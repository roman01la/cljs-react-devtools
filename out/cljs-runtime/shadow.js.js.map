{
"version":3,
"file":"shadow.js.js",
"lineCount":82,
"mappings":"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",
"sources":["shadow/js.js"],
"sourcesContent":["goog.provide(\"shadow.js\");\n\n/**\n * @dict\n */\nshadow.js.files = {};\n\n/**\n * @dict\n */\nshadow.js.nativeProvides = {};\n\n/**\n * @define {string}\n * all occurences should be removed by NodeEnvInline but for safety we keep it arround\n */\nshadow.js.NODE_ENV = goog.define(\"shadow.js.NODE_ENV\", \"development\");\n\nshadow.js.requireStack = [];\n\nshadow.js.exportCopy = function(module, other) {\n  let copy = {};\n  let exports = module[\"exports\"];\n\n  for (let key in other) {\n    // don't copy default export, don't overwrite existing\n    if (key == 'default' || key in exports || key in copy) {\n      continue;\n    }\n\n    copy[key] = {\n      enumerable: true,\n      get: function() { return other[key]; }\n    };\n  }\n\n  Object.defineProperties(exports, copy);\n}\n\n/**\n * @return {ShadowJS}\n */\nshadow.js.jsRequire = function(name, opts) {\n  var nativeObj = shadow.js.nativeProvides[name];\n  if (nativeObj !== undefined) {\n    return nativeObj;\n  }\n\n  try {\n    if (goog.DEBUG) {\n      if (name instanceof String && name.indexOf(\"/\") != -1) {\n        console.warn(\n          \"Tried to dynamically require '\" +\n            name +\n            \"' from '\" +\n            shadow.js.requireStack[shadow.js.requireStack.length - 1] +\n            \"'. This is not supported and may cause issues.\"\n        );\n      }\n    }\n\n    shadow.js.requireStack.push(name);\n\n    var module = shadow.js.files[name];\n    var moduleFn = shadow$provide[name];\n\n    // module must be created before calling moduleFn due to circular deps\n    if (module === undefined) {\n      if (moduleFn === undefined) {\n        throw (\"Module not provided: \" + name);\n      }\n      module = {};\n      module[\"exports\"] = {};\n      shadow.js.files[name] = module;\n    }\n\n    if (moduleFn) {\n      delete shadow$provide[name];\n\n      try {\n        moduleFn.call(\n          module,\n          goog.global,\n          shadow.js.jsRequire,\n          module,\n          module[\"exports\"]\n        );\n      } catch (e) {\n        console.warn(\"shadow-cljs - failed to load\", name);\n        console.error(e);\n        throw e;\n      }\n\n      if (opts) {\n        var globals = opts[\"globals\"];\n        if (globals) {\n          for (var i = 0; i < globals.length; i++) {\n            window[globals[i]] = module[\"exports\"];\n          }\n        }\n      }\n    }\n  } finally {\n    shadow.js.requireStack.pop();\n  }\n\n  return module[\"exports\"];\n};\n\n// work around issues where libraries try to manipulate require at runtime\n//   codemirror/addon/runmode/runmode.node.js\n// will attempt to replace all\n//   codemirror/lib/codemirror.js\n// requires with itself. in webpack this actually reconfigures require at runtime\n// but does not prevent webpack from including the original codemirror.js in the bundle\n// output. just nothing ever accesses assuming runmode.node.js is loaded first\n// in shadow-cljs this is handled via :package-overrides in the build config\n// which actually prevents including the unwanted file and properly redirects\n// making the runtime calls do nothing instead\nshadow.js.jsRequire[\"cache\"] = {};\nshadow.js.jsRequire[\"resolve\"] = function(name) { return name };\n\n// esm compatibility related things\n// this is called for export * from \"whatever\", so copying all exports from one module to another\nshadow.js.jsRequire[\"exportCopy\"] = shadow.js.exportCopy;\n// this is used for esm-cjs compatibility where cjs is supposed to be accessible as the default export in esm\nshadow.js.jsRequire[\"esmDefault\"] = function(mod) {\n  return (mod && mod[\"__esModule\"]) ? mod : {\"default\": mod};\n};\n\n// compat for transpiled import()\n// changed to require.dynamic(\"module$...\") by ReplaceRequirePass to hide it entirely from the closure compiler\n// there is no actual dynamic loading as the sources are already loaded\n// but we can still delay initializing the moduleFn until actually used\n// using Promise.resolve as dynamic import still needs to return a promise\nshadow.js.jsRequire[\"dynamic\"] = function(name) {\n  // delaying the actual require until .then triggers, so that it is actually\n  // happening as if async and not in the same task as the request\n  return Promise.resolve().then(function() { return shadow.js.jsRequire(name) });\n}\n\n/**\n * @dict\n */\nshadow.js.modules = {};\n\nshadow.js.require = function(name, opts) {\n  return shadow.js.jsRequire(name, opts);\n  /*\n  var mod = shadow.js.modules[name];\n\n  if (typeof(mod) == 'undefined') {\n    var exports = shadow.js.jsRequire(name, opts);\n\n    if (exports && exports[\"__esModule\"]) {\n        mod = exports;\n    } else {\n        mod = {\"default\":exports};\n    }\n\n    shadow.js.modules[name] = mod;\n  }\n\n  return mod;\n  */\n};\n"],
"names":["goog","provide","shadow","js","files","nativeProvides","NODE_ENV","define","requireStack","exportCopy","shadow.js.exportCopy","module","other","copy","exports","key","enumerable","get","Object","defineProperties","jsRequire","shadow.js.jsRequire","name","opts","nativeObj","undefined","DEBUG","String","indexOf","console","warn","length","push","moduleFn","shadow$provide","call","global","e","error","globals","i","window","pop","mod","Promise","resolve","then","modules","require","shadow.js.require"]
}
